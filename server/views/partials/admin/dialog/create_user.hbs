<div class="content create-user">
  <h2>{{t "admin.create_user"}}</h2>
  <form
    id="create-user-form"
    hx-post="/api/users/admin" 
    hx-target="closest .content" 
    hx-swap="outerHTML" 
    hx-indicator="closest .content"
  >
    <label class="{{#if errors.email}}error{{/if}}">
      {{t "auth.email_address"}}:
      <input
        name="email"
        id="create-user-email"
        type="email"
        placeholder="{{t "auth.email_address"}}..."
        hx-preserve="true"
      />
      {{#if errors.email}}<p class="error">{{errors.email}}</p>{{/if}}
    </label>
    <label class="{{#if errors.password}}error{{/if}}">
      {{t "common.password"}}:
      <input
        name="password"
        id="create-user-password"
        type="password"
        placeholder="{{t "common.password"}}..."
        hx-preserve="true"
        autocomplete="new-password"
      />
      {{#if errors.password}}<p class="error">{{errors.password}}</p>{{/if}}
    </label>
    <label class="{{#if errors.role}}error{{/if}}">
      {{t "common.role"}}:
      <select name="role" id="create-user-role" hx-preserve="true">
        <option value="USER" selected>{{t "common.user"}}</option>
        <option value="ADMIN">{{t "common.admin"}}</option>
      </select>
      {{#if errors.role}}<p class="error">{{errors.role}}</p>{{/if}}
    </label>
    <div class="checkbox-wrapper">
      <label class="checkbox">
        <input 
          id="create-user-verified" 
          name="verified" 
          type="checkbox"
          onchange="canSendVerificationEmail();" 
          hx-preserve="true"
          checked
        />
        {{t "common.verified"}}
      </label>
      <label class="checkbox">
        <input 
          id="create-user-banned" 
          name="banned"
          type="checkbox"
          onchange="canSendVerificationEmail();" 
          hx-preserve="true"
        />
        {{t "common.banned"}}
      </label>
    </div>
    <label id="send-email-label" class="checkbox hidden" hx-preserve="true">
      <input id="create-user-send-email" name="verification_email" type="checkbox" />
      {{t "admin.send_verification_email"}}
    </label>
    <div class="buttons">
      <button type="button" hx-on:click="closeDialog()">{{t "common.cancel"}}</button>
      <button type="submit" class="primary">
        <span>{{> icons/new_user}}</span>
        {{t "common.create"}}
      </button>
      {{> icons/spinner}}
    </div>
  </form>
  <div id="dialog-error">
    {{#if error}}
      <p class="error">{{error}}</p>
    {{/if}}
  </div>
</div>
